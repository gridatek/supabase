### Admin API Test Requests
### Use this file with REST Client extension in VS Code or any HTTP client

@baseUrl = http://localhost:3001
@token = YOUR_ACCESS_TOKEN_HERE

### Health Check
GET {{baseUrl}}/health

### 1. Login as admin (get access token)
POST {{baseUrl}}/auth/login
Content-Type: application/json

{
  "email": "alice@example.com",
  "password": "password123"
}

### 2. Get current user info
GET {{baseUrl}}/me
Authorization: Bearer {{token}}

### 3. Create a new user (admin only)
POST {{baseUrl}}/admin/users
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "email": "newuser@example.com",
  "password": "securePassword123",
  "full_name": "New User",
  "username": "newuser",
  "is_admin": false
}

### 4. Create an admin user
POST {{baseUrl}}/admin/users
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "email": "newadmin@example.com",
  "password": "adminPassword123",
  "full_name": "Admin User",
  "username": "newadmin",
  "is_admin": true
}

### 5. List all users (admin only)
GET {{baseUrl}}/admin/users
Authorization: Bearer {{token}}

### 6. Get specific user by ID (admin only)
GET {{baseUrl}}/admin/users/USER_ID_HERE
Authorization: Bearer {{token}}

### 7. Update user (admin only)
PUT {{baseUrl}}/admin/users/USER_ID_HERE
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "email": "updated@example.com",
  "user_metadata": {
    "full_name": "Updated Name"
  }
}

### 8. Delete user (admin only)
DELETE {{baseUrl}}/admin/users/USER_ID_HERE
Authorization: Bearer {{token}}
